import React from 'react'
import { cn } from '@/lib/utils'

interface StoreLogoProps {
  className?: string
}

/** DM — the "dm" wordmark is already compact (~1.5:1 aspect) */
function DmLogo({ className }: StoreLogoProps) {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="-3 -3 163.5 108.2" className={cn('h-6 w-auto', className)}>
      <path d="m151.8 79.2c-6.9 4.7-20.8 10.7-42.2 5.3-2-.5-4-1.1-5.9-1.6-13.5-5.8-27.2-12.2-32.8-16.3 15.5 2.4 38.7 4.8 76.1-1.2 0 0 3.6 5.6 4.8 13.8m-145.3 3.8-6.5 2.3c0 0 7.4 8.9 8.8 11.8l1.8 5c0 0 23.6-13 58-11 7.8.4 14.6 2.7 14.6 2.7 0 0-14-9.1-16.8-10-13.5-3.4-26.3-4.3-33.9-4.6-13 3.5-24.1 9.4-24.1 9.4 0 0-.9-2.8-1.9-5.6" fill="#dd291e"/>
      <path d="m157.1 74.8c0 0-1.7 2-5.3 4.4-6.9 4.7-20.8 10.7-42.2 5.3-2-.5-4-1.1-5.9-1.6-19.5-5.7-31.1-13.1-57.3-16.4-17.8.4-35.7 2.5-45.6 6.4 0 0 2.7 2.8 3.5 3.9.4.8 1.3 3.5 2.2 6.1 1 2.8 1.9 5.5 1.9 5.5 0 0 11.1-5.9 24.1-9.4 6.1-1.6 12.6-2.7 18.6-2.4 20 1.3 36.1 11.6 54 20 12.4 3.5 42.7 6.1 51.2 2.2 0 .2 1.7-8 .8-24" fill="#ffc82e"/>
      <path d="m53.2 29.4c-8.1 0-12.8 11.3-12.8 19.3 0 3.3.8 4.8 2.6 4.8 4.6 0 12.3-13.2 13.9-21.4l.4-2.1c-1.2-.3-2.5-.6-4.1-.6m9.5 34h-11.8c.5-3.1 1.5-6.6 3.2-11.1h-.2c-3.7 6.2-9 12.2-15.7 12.2-6.8 0-10.3-4.4-10.3-13.7 0-16.3 8.5-31.2 27.4-31.2 1 0 2.1.1 3.7.3l1.9-10c-1.9-.3-4.8-.7-7.3-.9l1.7-8.1c6-.6 12.2-1 19.3-.8l-12 63.3zm71.1 0h-11.7l4.2-26.4c.9-4.3.3-6-1.7-6-4 0-11.2 10.5-12.8 20.9l-1.9 11.5h-11.7l4.4-26.4c.9-4.3.3-6-1.7-6-4 0-11 10.4-12.9 20.6l-2.3 11.8h-11.7l6.3-33.2v-.3c-1.9-.3-4.8-.7-7.3-.9l1.7-8.1c6.2-.7 12.1-1 18.6-.8-.7 3.4-1.8 7.3-3.3 11.1h.2c3.9-6.7 8.1-11.8 15.7-11.8 5.1 0 8.4 2.7 8.4 8.5 0 1-.3 2.2-.7 3.9h.1c4-7.2 8.8-12.5 16.4-12.5 8.4 0 10.1 6.1 8.5 14.1l-4.8 29.9z" fill="#002878"/>
    </svg>
  )
}

/** Rossmann — centaur symbol (square, ~1:1 aspect) */
function RossmannLogo({ className }: StoreLogoProps) {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 236 236" className={cn('h-6 w-auto', className)}>
      <g transform="matrix(8.5,0,0,8.5,-8.7635,-19.2695)">
        <g transform="translate(-20,0)">
          <path d="M34.908,2.267C27.24,2.267 21.031,8.477 21.031,16.144C21.031,23.807 27.24,30.022 34.908,30.022C42.572,30.022 48.78,23.807 48.78,16.144C48.78,8.477 42.572,2.267 34.908,2.267ZM34.908,4.714C38.362,4.714 41.451,6.249 43.539,8.66L39.559,8.66L39.917,7.91C40.319,7.035 38.759,6.263 38.306,7.231L37.588,8.66L26.278,8.66C28.36,6.236 31.455,4.714 34.908,4.714ZM23.478,16.131C23.478,13.944 24.095,11.88 25.164,10.137C25.164,10.137 35.733,10.602 35.847,10.602C35.953,10.602 36.104,10.641 36.192,10.835C36.275,11.03 37.237,13.307 37.306,13.44C37.357,13.564 37.357,13.797 36.941,13.797L26.637,13.797C25.927,13.797 25.36,14.362 25.36,15.073L25.36,18.936C25.36,19.244 25.447,19.516 25.618,19.723C25.902,20.056 26.392,20.227 26.481,20.264C26.613,20.314 26.638,20.227 26.638,20.15L26.638,15.225C26.638,15.101 26.713,15.037 26.808,15.037L27.927,15.037C27.952,15.037 28.078,15.037 27.991,15.175C27.645,15.704 27.462,16.208 27.462,17.109C27.462,18.505 28.494,19.467 28.827,19.698C28.865,19.725 28.915,19.812 28.851,19.945C28.789,20.073 27.845,21.952 27.807,22.021C27.757,22.122 27.72,22.236 27.846,22.368L32.86,27.356C27.522,26.4 23.478,21.75 23.478,16.131ZM35.487,27.545C35.487,27.545 30.668,22.712 30.335,22.38C30.215,22.266 30.31,22.172 30.36,22.071C30.41,21.97 32.096,18.786 32.166,18.63C32.242,18.472 32.393,18.448 32.417,18.448L33.555,18.448C33.58,18.448 33.719,18.461 33.644,18.618C33.569,18.775 32.071,21.763 32.033,21.838C31.995,21.913 32.009,22.02 32.071,22.085C32.134,22.147 37.292,27.3 37.292,27.3C36.708,27.431 36.104,27.507 35.487,27.545ZM39.187,26.719L34.625,22.146C34.53,22.057 34.569,21.939 34.581,21.876L36.224,18.604C36.3,18.472 36.4,18.435 36.519,18.435L39.388,18.435C39.47,18.435 39.52,18.518 39.47,18.618L38.696,20.36C38.685,20.397 38.659,20.525 38.76,20.587L39.817,21.286C39.942,21.374 40.049,21.286 40.088,21.211C40.113,21.141 41.22,18.606 41.22,18.606C41.302,18.474 41.377,18.437 41.515,18.437L42.484,18.437C42.523,18.437 42.635,18.463 42.573,18.606C42.509,18.752 41.774,20.438 41.774,20.438C41.76,20.476 41.736,20.601 41.842,20.672L42.893,21.362C43.026,21.456 43.127,21.362 43.164,21.287C43.208,21.212 44.341,18.632 44.428,18.413C44.738,17.706 44.612,16.53 43.208,16.53L41.648,16.53C41.464,16.53 41.427,16.392 41.427,16.335L41.427,10.939C41.427,10.724 41.539,10.605 41.698,10.592C41.76,10.58 44.636,10.139 44.636,10.139C45.704,11.882 46.322,13.932 46.322,16.121C46.321,20.939 43.369,25.034 39.187,26.719Z" fill="#c3002d"/>
        </g>
      </g>
    </svg>
  )
}

/** Müller — windmill/M symbol (square, ~1:1 aspect) */
function MuellerLogo({ className }: StoreLogoProps) {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 137.3 137.2" className={cn('h-6 w-auto', className)}>
      <path d="M0,0h33.4c10.8-0.1,18,1.7,25.9,8.8c4.8,4.4,7.1,7.8,9.3,14c2.4-6.2,4.8-9.6,9.9-14C86.4,2,93.7,0.3,103.9,0h33.3v33.4c0.5,10.7-1.3,18.8-8.9,26.7c-4.3,4.5-7.5,6.5-13.4,8.5c5.9,2.1,9.1,4.2,13.4,8.8c7.4,8,9.2,15.1,8.9,26.5v33.2h-33.3c-10.5,0.1-17.8-1.8-25.7-8.8c-4.8-4.2-7.1-7.5-9.5-13.4c-2,5.9-4.1,9.2-8.7,13.4c-8,7.5-15.7,9.4-26.6,8.8H0v-33.2C-0.3,93.8,1.8,86,8.9,78.1c4.4-4.9,7.8-7.2,13.9-9.5c-6.2-2.2-9.5-4.4-13.9-9.2c-7.2-7.9-8.8-15.5-8.9-26V0z" fill="#f16426"/>
      <path d="M14.2,14.3h21.6c10.6,0.1,16.9,1,24.4,7.5c4.2,3.6,6.2,6.4,8.4,11.5c2.3-5.1,4.4-7.9,8.8-11.5c7.5-6.3,14.4-7.8,24-7.5H123V36c-0.2,8.4-0.5,14.6-5.5,21.7c-3.9,5.6-7.3,8.4-13.6,11c6.3,2.6,9.7,5.3,13.6,10.9c5.1,7.2,5.5,13.2,5.5,21.9v21.6h-21.7c-9.9,0.4-16.4-1.3-23.9-7.5c-4.3-3.6-6.5-6.4-8.8-11.5c-2.1,5.1-4.1,7.9-8.3,11.5c-7.5,6.5-14.2,7.4-24.4,7.5H14.3v-21.5c-0.1-9.4,1.1-14.5,6.1-21.7c3.8-5.4,7-8.1,12.9-11C27.4,66,24.2,63.3,20.4,58c-5.2-7.3-6.3-13.4-6.2-22.1C14.2,35.9,14.2,14.3,14.2,14.3z" fill="#fff"/>
      <path d="M58.1,84.5c4.8,10.7,5.4,10.5,6.7,10.7c2.5,0.3,5.4-8.7,7.1-12.4c1.9-4,4.4-11,6.9-11c2.8,0,1.2,13.6,0.9,15c-0.6,2.5-4.1,3-4.1,5.8c0,5.1,10.9,4.8,14.1,4.8c3.5,0,14.3,0.2,14.3-5.1c0-3.6-4.8-2.3-5-8.1c-0.3-7.4-0.8-16.1-0.8-17.3c0-3.6,0.6-12.9,1.2-15.1c0.8-2.7,4.4-3.3,4.4-6.5c0-5-7.9-5.2-11.4-5.2c-10.5,0-10.5,2.4-14.6,9.8c-2.9,5.2-6.1,14.8-8.6,14.3c-3.5-0.8-8.4-13.8-11.2-18.5c-2.4-4-2.2-5.6-11.5-5.6c-6.3,0-13.7,1.1-13.7,5.6c0,3.2,4.5,3.8,5.3,5.5c0.9,1.8,1.2,4.3,1.2,9c0,11.5-0.7,18.9-1.3,25.5c-0.6,6.5-5.4,2.8-5.4,7.3c0,4.1,7.2,4.4,10,4.4c3.1,0,11.6-0.2,11.6-4.7c0-4.3-5.1-0.3-5.1-8.8c0-2.6-0.8-13.1,1.7-13.1c1.4,0,2.3,2.4,2.8,3.4L58.1,84.5z" fill="#282526"/>
    </svg>
  )
}

/**
 * Map of source slug → logo component.
 * When adding a new store, add its logo component above and register it here.
 */
const LOGO_MAP: Record<string, (props: StoreLogoProps) => React.JSX.Element> = {
  dm: DmLogo,
  rossmann: RossmannLogo,
  mueller: MuellerLogo,
}

/** Returns the appropriate store logo/icon for a given source slug */
export function StoreLogo({ source, className }: { source: string; className?: string }) {
  const Logo = LOGO_MAP[source]
  if (Logo) return <Logo className={className} />
  return <span className={cn('text-xs font-medium text-muted-foreground', className)}>{source}</span>
}
